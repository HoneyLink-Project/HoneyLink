# docs/roadmap.md

**バッジ:** `🚫 実装コード非出力` `🚫 C/C++依存禁止`

> 本ロードマップは仕様策定と標準化プロセスにのみ焦点を当て、実装記述やC/C++依存タスクを含みません。各フェーズで選択する技術は[docs/architecture/tech-stack.md](./architecture/tech-stack.md)を参照し、代替案と撤退戦略を確保します。

## 目次
- [フェーズ概要](#フェーズ概要)
- [タイムラインと成果物](#タイムラインと成果物)
- [リリースポリシー](#リリースポリシー)
- [リスクと緩和策](#リスクと緩和策)
- [依存関係マップ](#依存関係マップ)
- [測定指標 (SLI/SLO)](#測定指標-slislo)
- [受け入れ基準 (DoD)](#受け入れ基準-dod)

## フェーズ概要
| フェーズ | 目的 | エントリ基準 | エグジット基準 |
|----------|------|---------------|-----------------|
| P0 – コンセプト確定 | ビジョンとユースケース統一 | 主要ペルソナ承認、要求抽出済み ([docs/requirements.md](./requirements.md)) | エレベーターピッチとKPIに合意、リスク仮説整理 |
| P1 – 仕様詳細化 | プロトコル仕様・UI・セキュリティ詳細 | P0完了、WG構成済み | 30文書策定・レビュー完了、トレーサビリティ確立 |
| P2 – プロトタイプ設計 | 抽象設計と試験計画確定 | P1完了、PoC資源確保 | PoC設計書と試験テンプレ完成 (実装記述なし) |
| P3 – 標準化準備 | 外部評価・認証準備 | P2完了、外部パートナー合意 | ガバナンス/CI-CD/ローリングリリース方針承認 |
| P4 – 継続改善 | KPI追跡と仕様改訂ガイド運用 | P3完了 | KPI達成状況四半期レビュー、改訂プロセス稼働 |

## タイムラインと成果物
```
四半期 | 主要成果物
----------------------------------------------
Q1     | 要件確定書、UX原則、セキュリティ方針
Q2     | プロトコル仕様完全版、データフロー図
Q3     | テスト設計テンプレ、ベンチマーク計画
Q4     | ガバナンス文書、外部評価準備パッケージ
```

主要成果物は各ドキュメントの DoD を満たした状態でアーカイブし、版管理ポリシーに従って履歴を残します。

## リリースポリシー
- **仕様リリースサイクル:** 半期ごと。Majorは規格変更、Minorは説明追加、Patchは誤記修正。
- **承認プロセス:** ワーキンググループ合意 → セキュリティ/UX査読 → ガバナンス委員会承認。
- **互換性維持:** 重大変更時は[docs/architecture/interfaces.md](./architecture/interfaces.md)のバージョニング規則に従い、後方互換のアダプタ仕様を同時公表。
- **撤退戦略:** KPI 未達が 2 期継続した場合、代替方式 (例: 他社プロトコル連携) を[docs/architecture/tech-stack.md](./architecture/tech-stack.md#撤退戦略)に基づき検討。

## リスクと緩和策
| リスク | インパクト | 兆候 | 緩和策 |
|--------|-----------|------|--------|
| ハンドシェイク遅延 > KPI | 高 | テスト計画で目標超過 | 仕様改訂で再試行上限調整、QoSアルゴリズム再評価 |
| 規格とUXの乖離 | 中 | ユーザビリティテスト低評価 | [docs/ui/overview.md](./ui/overview.md)のUX原則に基づく共同レビュー |
| セキュリティ認証未達 | 高 | 外部監査指摘 | [docs/security/vulnerability.md](./security/vulnerability.md)の対策マップを優先対応 |
| パートナー間の採用遅延 | 中 | 契約締結遅延 | ローンチ前ワークショップ、代替スケジュール策定 |
| 非機能要件の測定困難 | 中 | SLI不整合 | [docs/testing/metrics.md](./testing/metrics.md)の計測計画を前倒し策定 |

## 依存関係マップ
```
P0 -> P1 -> P2 -> P3 -> P4
 |      |      |      |
 |      |      |      +--> 外部認証機関レビュー (並行)
 |      |      +--> ベンチマーク試験計画 (Testing WG)
 |      +--> セキュリティ仕様 (Security WG)
 +--> 要件定義 (Requirements WG)
```
- 各フェーズの詳細依存は[docs/architecture/dependencies.md](./architecture/dependencies.md)のモジュール依存図と同期。

## 測定指標 (SLI/SLO)
- **スケジュール遵守率:** 各フェーズのマイルストーン達成率 95% 以上。
- **レビュー完了率:** 必須ステークホルダー出席率 90% 以上。欠席時は 48 時間以内に補完レビュー。
- **リスク解消率:** Medium 以上のリスクに対する緩和策合意率 100%。
- **ドキュメント品質:** 各ドキュメント DoD 満足度 100% (レビューチェックリスト備忘)。

## 受け入れ基準 (DoD)
- 全フェーズにエントリ/エグジット基準が明文化され、関連ドキュメントへのリンクが設定されている。
- リスクと緩和策が STRIDE 等の脅威モデルおよび性能計画と矛盾しない。
- タイムラインと成果物が 30 文書の公開順と一致し、相互参照が正しい。
- 「実装コード非出力」「C/C++依存禁止」の方針が各節で守られていることを査読済み。
- 測定指標が KPI/OKR・SLI/SLO と整合し、測定方法が [docs/testing/metrics.md](./testing/metrics.md) とリンクしている。
