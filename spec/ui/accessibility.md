# docs/ui/accessibility.md

**バッジ:** `🚫 実装コード非出力` `🚫 C/C++依存禁止`

> HoneyLink™ UI のアクセシビリティ要件を定義します。WCAG 達成基準を中心に、実装コードや C/C++ 依存技術を含めず仕様化のみを行います。

## 目次
- [適用範囲と基準](#適用範囲と基準)
- [WCAG 達成基準マッピング](#wcag-達成基準マッピング)
- [コントラストと色覚配慮](#コントラストと色覚配慮)
- [フォーカス管理](#フォーカス管理)
- [キーボード操作性](#キーボード操作性)
- [スクリーンリーダサポート](#スクリーンリーダサポート)
- [国際化とローカリゼーション](#国際化とローカリゼーション)
- [評価・監査プロセス](#評価監査プロセス)
- [受け入れ基準 (DoD)](#受け入れ基準-dod)

## 適用範囲と基準
- **対象:** Webポータル、モバイルアプリ、ウェアラブル UI。
- **基準:** WCAG 2.2 AA を最低基準、AAA への前進計画を策定。
- **リージョン:** グローバル対応。米 ADA、EU EN 301 549 などを参照。

## WCAG 達成基準マッピング
| カテゴリ | 基準 | HoneyLink™ 仕様 | 関連文書 |
|----------|------|-----------------|----------|
| 知覚可能 | 1.4.3 コントラスト (最低) | コントラスト比 4.5:1 を保証 | [docs/ui/visual-design.md](./visual-design.md) |
| 運用可能 | 2.1.1 キーボード | 全機能をキーボード操作可能 | 本ドキュメント | 
| 理解可能 | 3.1.1 ページ言語 | 国際化設定で主要言語を明示 | [docs/ui/overview.md](./overview.md) |
| 堅牢 | 4.1.2 名前・役割・値 | ARIA 属性ポリシーを策定 | 本ドキュメント |

## コントラストと色覚配慮
- 主要テキストと背景のコントラスト比は 4.5:1 以上、小テキスト 7:1 推奨。
- 状態表示 (成功/警告/エラー) は色 + アイコン/テキストの二重表現。
- 色覚シミュレーション (Protanopia, Deuteranopia, Tritanopia) を四半期ごとに評価。

## フォーカス管理
- フォーカスリング: 2px `color.secondary`, インセット 1px `#FFFFFF`。
- フォーカス順序は DOM/表示順と一致。モーダル表示時はフォーカストラップを採用。
- 自動画面遷移時はフォーカスを主要ヘッダへ移動し、スクリーンリーダへ告知。

## キーボード操作性
- すべての操作 (ペアリング、フィルタ、保存) を Tab + Enter/Space で完結。
- キーボードショートカット (例: Alt+F=フィルタ) を提供し、設定画面でカスタマイズ可能。
- 連続操作でフォーカスが失われないよう状態保持。

## スクリーンリーダサポート
- コンポーネントは ARIA ロール/ラベルを定義 (例: `role="dialog"`, `aria-live="polite"`)。
- セッション状態や警告は `aria-live` リージョンに送信。
- アニメーションを伴う更新は `aria-atomic="true"` で全体読み上げを調整。

## 国際化とローカリゼーション
- ローカライズ文字列は性別・多元文化対応 (ICU MessageFormat)。
- RTL 言語ではフォーカスリング方向とモーション方向を反転。
- 音声入力対応：ローカルアクセントを許容する音声コマンド仕様を策定。

## 評価・監査プロセス
1. デザイン段階でアクセシビリティチェックリスト (チェック項目 45) を実施。
2. 実機テスト: スクリーンリーダ NVDA, VoiceOver, TalkBack を使用。
3. UX 研究でアクセシビリティユーザーを招聘し年 2 回評価。
4. 結果は[docs/notes/meeting-notes.md](../notes/meeting-notes.md)および[docs/notes/decision-log.md](../notes/decision-log.md)に記録。

## 受け入れ基準 (DoD)
- WCAG 2.2 AA の主要基準が表形式でマッピングされている。
- コントラスト、フォーカス、キーボード、スクリーンリーダ対応が定量化されている。
- 国際化要件が UI 概要・ワイヤーフレームと矛盾しない。
- 評価プロセスがロードマップ/テスト文書とリンク済み。
- 実装コードおよび C/C++ 依存要素に依拠していない。
