# docs/architecture/dependencies.md

**ãƒãƒƒã‚¸:** `ðŸš« å®Ÿè£…ã‚³ãƒ¼ãƒ‰éžå‡ºåŠ›` `ðŸš« C/C++ä¾å­˜ç¦æ­¢`

> ä¾å­˜é–¢ä¿‚ç®¡ç†ã¯ HoneyLinkâ„¢ ã®ä¿å®ˆæ€§ã¨å®‰å…¨æ€§ã‚’æ”¯ãˆã‚‹ã‚³ã‚¢è¦ç´ ã§ã™ã€‚æœ¬æ›¸ã¯æŠ½è±¡çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜ã‚’å®šç¾©ã—ã€å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚„ C/C++ é€£æºã‚’å«ã¿ã¾ã›ã‚“ã€‚

## ç›®æ¬¡
- [ä¾å­˜ç®¡ç†åŽŸå‰‡](#ä¾å­˜ç®¡ç†åŽŸå‰‡)
- [ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜ã‚°ãƒ©ãƒ•](#ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜ã‚°ãƒ©ãƒ•)
- [å±¤åˆ¥ãƒ«ãƒ¼ãƒ«](#å±¤åˆ¥ãƒ«ãƒ¼ãƒ«)
- [å¾ªç’°å›žé¿ç­–](#å¾ªç’°å›žé¿ç­–)
- [ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ–¹é‡](#ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ–¹é‡)
- [å¤‰æ›´ç®¡ç†ãƒ•ãƒ­ãƒ¼](#å¤‰æ›´ç®¡ç†ãƒ•ãƒ­ãƒ¼)
- [å—ã‘å…¥ã‚ŒåŸºæº– (DoD)](#å—ã‘å…¥ã‚ŒåŸºæº–-dod)

## ä¾å­˜ç®¡ç†åŽŸå‰‡
1. **å˜æ–¹å‘:** é«˜å±¤â†’ä½Žå±¤ã®ã¿ã€‚é€†ä¾å­˜ã¯ç¦æ­¢ã€‚
2. **å¥‘ç´„é§†å‹•:** ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹å¥‘ç´„ã‚’[docs/architecture/interfaces.md](./interfaces.md)ã§å®šç¾©ã—ã€ç›´æŽ¥å‚ç…§ã›ãšå¥‘ç´„çµŒç”±ã§é€šä¿¡ã€‚
3. **C/C++æŽ’é™¤:** ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒã‚¤ãƒŠãƒªã¸ã®ãƒªãƒ³ã‚¯ã¯ç¦æ­¢ã€‚å¿…è¦ãªã‚‰ API åŒ–ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã€‚
4. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³:** ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«/ãƒãƒªã‚·ãƒ¼ç­‰ã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¹ãƒ­ãƒƒãƒˆã«ãƒ›ãƒƒãƒˆã‚¹ãƒ¯ãƒƒãƒ—å¯èƒ½ã€‚

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜ã‚°ãƒ©ãƒ•
```
      +-----------------------+
      | Experience Layer      |
      +----------+------------+
                 |
                 v
      +----------+------------+
      | Session Orchestrator  |
      +----+------------------+
           | \
           |  \
           v   v
  +--------+-----+     +-----------------------+
  | Policy Engine |--> | QoS Scheduler        |
  +--------+-----+     +-----------------------+
           |
           v
  +-------------------+
  | Crypto & Trust    |
  +--------+----------+
           |
           v
  +-------------------+
  | Transport Abstraction |
  +--------+----------+
           |
           v
  +-------------------+
  | Physical Adapter  |
  +-------------------+

Telemetry & Insights listens to events from Session Orchestrator, QoS Scheduler, and Transport Abstraction.
```

## å±¤åˆ¥ãƒ«ãƒ¼ãƒ«
| å±¤ | è¨±å®¹ä¾å­˜ | ç¦æ­¢ä¾å­˜ |
|----|----------|----------|
| Experience | Session Orchestrator (APIçµŒç”±) | Policy/QoS/Cryptoã¸ã®ç›´æŽ¥ä¾å­˜ |
| Session | Policy, Crypto, Telemetry | Physical Adapterç›´æŽ¥å‚ç…§ |
| Policy | QoS, Telemetry | Experience, Physical |
| QoS | Transport, Telemetry | Experience |
| Transport | Physical Adapter, Telemetry | Experience, Policy |
| Telemetry | ã™ã¹ã¦ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆè³¼èª­ (ä¸€æ–¹å‘) | åŒæ–¹å‘ä¾å­˜ |
| Physical Adapter | ãªã— (å¤–ç•Œã®ã¿) | ä¸Šä½å±¤ã¸é€†å‚ç…§ |

## å¾ªç’°å›žé¿ç­–
- ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¹ã‚’ä»‹ã—ãŸé€šçŸ¥ã®ã¿è¨±å¯ã—ã€åŒæœŸå‘¼ã³å‡ºã—ã¯ä¸€æ–¹å‘ã€‚
- æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯[docs/templates/module-template.md](../templates/module-template.md)ã®ä¾å­˜ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ä½¿ç”¨ã€‚
- ä¾å­˜é•åæ¤œçŸ¥æ™‚ã¯[docs/notes/decision-log.md](../notes/decision-log.md)ã§ ADR ã‚’æ›´æ–°ã€‚

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ–¹é‡
- **SemVer:** ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä»•æ§˜ã« `major.minor.patch` ã‚’ä»˜ä¸Žã€‚Majorå¤‰æ›´ã¯äº’æ›æ€§ã‚’ç ´å£Šã€‚
- **äº’æ›æ€§ä¿è¨¼æœŸé–“:** Majorãƒªãƒªãƒ¼ã‚¹å¾Œ12ãƒ¶æœˆé–“ã¯æ—§ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä¸¦è¡Œæä¾›ã€‚
- **ä¾å­˜å®£è¨€:** å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ã‚µãƒãƒ¼ãƒˆã™ã‚‹ç›¸æ‰‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²ã‚’å®£è¨€ (ä¾‹: `PolicyEngine >=2.0 <3.0`)ã€‚
- **C/C++ç¦æ­¢é©ç”¨:** ä¾å­˜å®£è¨€ã«ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å«ã‚ã‚‹ã“ã¨ã‚’ç¦æ­¢ã€‚ä»£æ›¿ã¯ API ã‚µãƒ¼ãƒ“ã‚¹ã§æä¾›ã€‚

## å¤‰æ›´ç®¡ç†ãƒ•ãƒ­ãƒ¼
1. å¤‰æ›´ææ¡ˆ (RFC) ã‚’ä½œæˆã—ã€å½±éŸ¿ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²ã‚’æ˜Žè¨˜ã€‚
2. ä¾å­˜ã‚°ãƒ©ãƒ•å½±éŸ¿ã‚’[docs/architecture/overview.md](./overview.md)ã¨ç…§åˆã€‚
3. ãƒ†ã‚¹ãƒˆè¨ˆç”»ã‚’[docs/testing/integration-tests.md](../testing/integration-tests.md)ã«è¿½åŠ ã€‚
4. ãƒ­ãƒ¼ãƒ‰ãƒžãƒƒãƒ— ([docs/roadmap.md](../roadmap.md)) ã«åæ˜ ã—ã€ãƒ•ã‚§ãƒ¼ã‚ºã‚’èª¿æ•´ã€‚
5. ADR æ›´æ–° ([docs/notes/decision-log.md](../notes/decision-log.md))ã€‚

## å—ã‘å…¥ã‚ŒåŸºæº– (DoD)
- ä¾å­˜ã‚°ãƒ©ãƒ•ãŒã™ã¹ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åŒ…å«ã—ã€åŒæ–¹å‘ä¾å­˜ãŒãªã„ã€‚
- å±¤åˆ¥ãƒ«ãƒ¼ãƒ«ã«å…·ä½“çš„ç¦æ­¢äº‹é … (ç‰¹ã« C/C++ é—œé€£) ã‚’è¨˜è¿°ã€‚
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ–¹é‡ãŒã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹æ–‡æ›¸ã¨æ•´åˆã—ã€äº’æ›æ€§æœŸé–“ã‚’å®šç¾©ã€‚
- å¤‰æ›´ç®¡ç†ãƒ•ãƒ­ãƒ¼ãŒä»–æ–‡æ›¸ã®ãƒ—ãƒ­ã‚»ã‚¹ã¨ãƒªãƒ³ã‚¯ã—ã¦ã„ã‚‹ã€‚
- Telemetry ã®ç‰¹ä¾‹ãªã©ä¾‹å¤–ãŒæ˜Žè¨˜ã•ã‚Œã¦ã„ã‚‹ã€‚
